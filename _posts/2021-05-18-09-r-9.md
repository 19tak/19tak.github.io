---
layout: post
title: "[09] R 과제, USArrests R지도맵을 활용한 시각화 "
categories: [KFQ, R]
tags: [R, KFQ, USArrests, assignment]
fullview: false
comments: false
---

#### dplyr

![image](https://user-images.githubusercontent.com/84369912/126749744-ca631cda-2799-4eba-a4e9-90d36ee82e58.png)

ggiraphExtra package의 ggChoropleth() 를 사용하여 USArrests data의 murder 수치를 기준으로 하여 us states map에 표현하였다.
색이 짙은 붉은 색으로 향할수록 10만명당 살인체포 건수가 높으며,
제일 짙은 색의 georgia 17.4, mississippi 16.1 건임을 ggChoropleth()의 interactive parameter=True로 설정하고 마우스로 위치하여 확인 할 수 있다.

## 코드
```
# setting
rm(list=ls())
getwd()
setwd("D:\\tak\\r\\doit_book\\ml\\machinelearning")

# library
#install.packages("mapproj")
#install.packages("ggiraphExtra")
#install.packages("maps")
library(ggiraphExtra)
library(tibble)
library(ggplot2)

#
str(USArrests)
head(USArrests)
crime <- rownames_to_column(USArrests,var="state")
crime$state <- tolower(crime$state)
str(crime)
head(crime)
states_map <- map_data("state")
str(states_map)
ggChoropleth(data=crime,
             aes(fill=Murder,
                 map_id=state),
             map=states_map)
ggChoropleth(data=crime,
             aes(fill=Murder,
                 map_id=state),
             map=states_map,
             interactive=T)
```