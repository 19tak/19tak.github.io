---
layout: post
title: "[11] R 과제, RandomForest를 적용해 iris 데이터의 주요변수를 출력하세요. "
categories: [R, KFQ]
tags: [R, KFQ, iris, random forest, assignment]
fullview: false
comments: false
---

#### dplyr

![image](https://user-images.githubusercontent.com/84369912/126750656-55536af4-e18c-4c7a-9bf9-7179b92db322.png)
![image](https://user-images.githubusercontent.com/84369912/126750681-cbfc435d-be64-46c7-b94f-1d0e9672e85e.png)

OOB 4%

정확도에서는 Petal.Length > Petal.Width > Sepal.Length > Sepal.Width 순으로 중요변수

노드 불순도에서는 Petal.Width > Petal.Length > Sepal.Length > Sepal.Width 순으로 중요변수

![image](https://user-images.githubusercontent.com/84369912/126750717-1a890a1d-f8a2-4f46-b175-56626bfeeab5.png)


## 코드
```
# setting
rm(list=ls())
getwd()
setwd("D:\\tak\\r\\doit_book\\ml\\machinelearning")

#install.packages("randomForest")
library(randomForest)
data(iris)
rf <- randomForest(Species~.,data=iris)
rf

# 포뮬로 방식 대신 변수를 직접 지정하는 방식이 메모리를 적게 사용해 속도가 빠름
rf2 <- randomForest(iris[,1:4],iris[,5])
# 변수의 중요도 평가
rf3 <- randomForest(Species~.,data=iris,importance=TRUE)
importance(rf3)
varImpPlot(rf3,main="varImpPlot of iris")
```