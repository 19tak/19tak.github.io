---
layout: post
title: "[01] ROS 설치, Ubuntu"
categories: [ROS, Ubuntu]
tags: [ROS, Ubuntu]
fullview: false
comments: false
---

# ROS

ros는 어쩌고

linux에 설치해보기전에 linux를 설치하자

---

# 파티션 분리 후 ubuntu linux 설치

[파티션 분리 후 우분투 리눅스 듀얼부팅 설치방법](https://jimnong.tistory.com/676 "jimnong 블로그")에 설명이 자세히 잘 되어있다.

이를 참고하여 설치해보자.

- ubuntu는 2년마다 어쩌고

> 본인은 20.04.2.0 LTS 버전으로 설치하였다.
> [Ubunutu 20.04.2.0 LTS](https://ubuntu.com/download/desktop "ubuntu 20.04.2.0 LTS")

---

# ROS 설치

본인은 ros noetic으로 설치하였다.

공식 [ros noetic 설치 문서](http://wiki.ros.org/noetic/Installation/Ubuntu "wiki.ros.org/noetic/installation")를 따라가며 설치해보자.

1. NTP (Network Time Protocol) 설정

    - 서로 다른 pc 간 통신을 위함. (개인 pc - Turtlebot 등)
    ```
    sudo apt-get install -y chrony ntpdate
    sudo ntpdate -q ntp.ubuntu.com
    ```

2. Installation

    - setup sources.list
    ```
    sudo sh -c 'echo "deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main" > /etc/apt/sources.list.d/ros-latest.list'
    ```

    - set up keys
    ROS 저장소로부터 패키지 설치 위한 공개키 추가.

    ROS 버전마다 상이함. <http://wiki.ros.org> 참고

    noetic 버전은 다음과 같다.
    ```
    sudo apt-key adv --keyserver 'hktp://keyserver.ubuntu.com:80' --recv-key C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654
    ```

    - installation
    ROS 설치 이전 모든 ubuntu 패키지 업데이트
    ```
    sudo apt-get update && sudo apt-get upgrade -y
    ```

    이후 셋 중 하나를 설치하자. 본인은 desktop-full 버전으로 설치하였다.

    - Desktop-Full install (recommended)
    ```
    sudo apt install ros-noetic-desktop-full
    ```

    - Desktop install
    ```
    sudo apt install ros-noetic-desktop
    ```

    - ROS-Base (Bare Bones), no GUI tools
    ```
    sudo apt install ros-noetic-ros-base
    ```

    > 추후에 추가 패키지를 설치할 때는 `sudo apt install ros-noetic-PCKAGE`의 형태로 패키지를 직접 설치.
    > 
    > 사용 가능한 패키지 검색은 `apt search ros-noetic`

2. Environment setup

    - bashrc 수정
    `~/. bashrc`에 추가할 내용

    ```
    # Set ROS Noetic
    source /opt/ros/noetic/setup.bash
    source ~/catkin_ws/devel/setup.bash

    # Set Ros Network
    export ROS_HOSTNAME=localhost
    export ROS_MASTER_URI=https://localhost:11311

    # Set ROS alias command
    alias cw='cd ~/catkin_ws'
    alias cs='cd ~/catkin_ws/src'
    alias cm='cd ~/catkin_ws && catkin_make'
    ```
    이후 터미널창에 `source ~/.bashrc`로 저장

    > Network 설정시 마스터 PC 따로 존재, 로봇은 호스트 PC 사용할경우에 다음을 구분하여 입력할경우 서로 통신 가능.
    > 
    > Network 설정시 localhost의 경우 오류 발견..일단은.. 터미널 창에서 ifconfig 이용하여 본인 ip 입력
    > 
    ```
    # Set ROS Network
    export ROS_HOSTNAME=localhost
    export ROS_MASTER_URI=http://{ROS_HOSTNAME}:11311
    ```

    - 환경설정 파일 불러오기, 작업 폴더 생성 및 초기화
    ```
    mkdir -p ~/catkin_ws/src
    cd ~/catkin_ws/src
    catkin_init_worskpace
    source /opt/ros/noetic/setup.bash   # noetic 부분에 ros 버전에 맞게 기입 
    ```

3. Dependencies for building packages

    rosinstall은 ros 관련 패키지 인스톨 프로그램
    ```
    sudo apt install python3-rosdep python3-rosinstall python3-rosinstall-generator python3-wstool build-essential
    ```

4. Initialize rosdep

    rosdep은 ros의 핵심 컴포넌트, 컴파일 시 의존성 패키지 설치에 도움을 주는 편의 기능.
    ```
    sudo apt install python3-rosdep
    sudo rosdep init
    rosdep update
    ```

---

# 확인





---

# 참고

