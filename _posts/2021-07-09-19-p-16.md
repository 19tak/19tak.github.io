---
layout: post
title: "[16] Python 과제, 네이버 뉴스 검색 open api 이용, 오늘의 뉴스정보(JSON Data) 파싱 "
categories: [Python, KFQ]
tags: [Python, KFQ, crawling, naver open api, open api]
fullview: false
comments: false
---

# 문제
https://openapi.naver.com/v1/search/news 네이버 뉴스 검색 open api를 통해 JSON 데이타를 가지고 와서
뉴스 정보를 출력(원하는 정보 무엇이든) 하는 프로그램을 python으로 작성하시오.


# 코드
```
import urllib.request
import json
 
 
def search(title):
    #애플리케이션 클라이언트 id 및 secret
    client_id = "J3E5bdjOcWR3tlbX3LCp" # 본인 클라이언트 아이디
    client_secret = "kbvTFbAb5B" # 본인 클라이언트 시크릿 키
    
    #뉴스검색 url
    url = "https://openapi.naver.com/v1/search/news"
    query = "?query="+urllib.parse.quote(title)
  
    url_query = url + query
    
    #Open API 검색 요청 개체 설정
    request = urllib.request.Request(url_query)
    request.add_header("X-Naver-Client-Id",client_id)
    request.add_header("X-Naver-Client-Secret",client_secret)
    
    #검색 요청 및 처리
    response = urllib.request.urlopen(request)
    rescode = response.getcode()
    if(rescode == 200):
        return response.read().decode('utf-8')
    else:
        return None
 
#프로그램 진입점
def main():
    #검색 질의 요청
    res = search(input("검색어:"))
    if(res == None):
        print("검색 실패!!!")
        exit()
 
    #검색 결과를 json개체로 로딩
    json_response = json.loads(res)
    if(json_response == None):
        print("json.loads 실패!!!")
        exit()
 
    #검색 결과의 items 목록의 각 항목(post)을 출력
    for item in json_response['items']:
        print("제목:"+item['title'])
        print("내용:"+item['description'])
        print("url:"+item['link'])
        print("================\n")
 
#진입점 함수를 main으로 지정
if __name__ == '__main__':
    main()
```

![image](https://user-images.githubusercontent.com/84369912/126756973-d5684b7f-150e-4bd3-bacd-c43cec39f6f4.png)

