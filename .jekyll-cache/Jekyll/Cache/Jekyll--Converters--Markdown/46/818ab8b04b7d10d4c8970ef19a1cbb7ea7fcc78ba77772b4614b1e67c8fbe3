I"µ	<h4 id="dplyr">dplyr</h4>

<h1 id="ë¬¸ì œ">ë¬¸ì œ</h1>
<h2 id="ë¶„ì„-ë„ì „">ë¶„ì„ ë„ì „</h2>
<p>ë¯¸êµ­ ë™ë¶ì¤‘ë¶€ 437ê°œ ì§€ì—­ì˜ ì¸êµ¬í†µê³„ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” midwest ë°ì´í„°ë¥¼ ì‚¬ìš©í•´ ë°ì´í„° ë¶„ì„ ë¬¸ì œë¥¼ í•´ê²°í•´ ë³´ì„¸ìš”. midwestëŠ” ggplot2 íŒ¨í‚¤ì§€ì— ë“¤ì–´ ìˆìŠµë‹ˆë‹¤.</p>
<ul>
  <li>ë¬¸ì œ1. popadultsëŠ” í•´ë‹¹ ì§€ì—­ì˜ ì„±ì¸ ì¸êµ¬, poptotalì€ ì „ì²´ ì¸êµ¬ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. midwest ë°ì´í„°ì— â€˜ì „ì²´ ì¸êµ¬ ëŒ€ë¹„ ë¯¸ì„±ë…„ ì¸êµ¬ ë°±ë¶„ìœ¨â€™ ë³€ìˆ˜ë¥¼ ì¶”ê°€í•˜ì„¸ìš”.</li>
  <li>ë¬¸ì œ2. ë¯¸ì„±ë…„ ì¸êµ¬ ë°±ë¶„ìœ¨ì´ ê°€ì¥ ë†’ì€ ìƒìœ„ 5ê°œ county(ì§€ì—­)ì˜ ë¯¸ì„±ë…„ ì¸êµ¬ ë°±ë¶„ìœ¨ì„ ì¶œë ¥í•˜ì„¸ìš”.</li>
  <li>ë¬¸ì œ3. ë¶„ë¥˜í‘œì˜ ê¸°ì¤€ì— ë”°ë¼ ë¯¸ì„±ë…„ ë¹„ìœ¨ ë“±ê¸‰ ë³€ìˆ˜ë¥¼ ì¶”ê°€í•˜ê³ , ê° ë“±ê¸‰ì— ëª‡ ê°œì˜ ì§€ì—­ì´ ìˆëŠ”ì§€ ì•Œì•„ë³´ì„¸ìš”.</li>
</ul>

<table>
  <thead>
    <tr>
      <th>ë¶„ë¥˜</th>
      <th>ê¸°ì¤€</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>large</td>
      <td>40% ì´ìƒ</td>
    </tr>
    <tr>
      <td>large</td>
      <td>40% ì´ìƒ</td>
    </tr>
  </tbody>
</table>

<h2 id="dplyr-1">dplyr</h2>
<blockquote>

  <p><br /></p>
  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># setting
rm(list=ls())
getwd()
setwd("D:\\tak\\r\\hw\\dplyr")

# import library
library(dplyr)
library(ggplot2)

# read data
midwest &lt;- as.data.frame(ggplot2::midwest)

# Q1. ì „ì²´ ì¸êµ¬ ëŒ€ë¹„ ë¯¸ì„±ë…„ ì¸êµ¬ ë°±ë¶„ìœ¨ ë³€ìˆ˜ ì¶”ê°€
# dfì— value(ë°±ë¶„ìœ¨) ì¶”ê°€
midwest &lt;- 
  midwest %&gt;% 
  mutate(value=(poptotal-popadults)/poptotal*100)

# Q2. value ìƒìœ„ 5ê°œ countyì˜ value ì¶œë ¥
midwest %&gt;% 
  arrange(desc(value)) %&gt;% 
  select(county,value) %&gt;% 
  head

# Q3. ë¯¸ì„±ë…„ ë¹„ìœ¨ ë“±ê¸‰ ë³€ìˆ˜ ì¶”ê°€, ê° ë“±ê¸‰ì— ëª‡ê°œì˜ ì§€ì—­ì´ ìˆëŠ”ì§€ ì¶œë ¥
# value ë³„ grade ì¶”ê°€
midwest  &lt;-
  midwest %&gt;% 
  mutate(grade=ifelse(value&gt;=40,"large",
                      ifelse(value&gt;=30,"middle","small")))
n &lt;- midwest %&gt;%  group_by(grade) %&gt;% summarise(n=n())
as.data.frame(n)

# Q4. ì „ì²´ ì¸êµ¬ ëŒ€ë¹„ ì•„ì‹œì•„ì¸ ì¸êµ¬ ë°±ë¶„ìœ¨ ë³€ìˆ˜ ì¶”ê°€, í•˜ìœ„ 10ê°œ ì§€ì—­ state, county ë°±ë¶„ìœ¨ ì¶œë ¥
# dfì— asian_value(ë°±ë¶„ìœ¨) ì¶”ê°€ / í•˜ìœ„ 10ê°œ ì§€ì—­ í•´ë‹¹ í•­ëª© ì¶œë ¥
midwest %&gt;% 
  mutate(asian_value=popasian/poptotal*100) %&gt;% 
  arrange(asian_value) %&gt;% 
  select(state,county,asian_value) %&gt;% 
  head(10)
</code></pre></div>  </div>

</blockquote>
:ET